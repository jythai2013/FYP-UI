<template name="trainerAnnouncment">
  <div id='wrapper-trainer'>
    <!-- Sidebar -->
    {{> trainerSidebar}}
    <!-- Tools -->
    <section id='tools'>
      <ul class='breadcrumb' id='breadcrumb'>
        <li class='title'>Sterling</li>
        <li><a href="#">Dashboard</a></li>
      </ul>
    </section>
    <!-- Content -->
    <div id='content'>
      <div class='panel panel-default'>
        <div class='panel-heading'>
          <i class='icon-beer icon-large'></i>
          Post Announcement to Students
        </div>
        <div class='panel-body'>
          <div class='page-header'>
            <h4>Post Announcement</h4>
          </div>
          {{>addAnnouncement}}

          <div class='page-header'>
            <h4>Annoucement Management</h4>
          </div>
          <table class="table table-striped table-bordered" id="dataTables-example">
            <thead>
              <tr>
                <th>Posted Date</th>
                <th>Title</th>
                <th>View Details</th>
                <th>Posted To</th>
                <th>Delete</th>
              </tr>
            </thead>
            <tbody>
              {{#each trainerOngoingCourses1}}
                <input type="hidden" id="groupId" value="{_id}">
                {{storeGroupId}}
                <tr>
                  {{#each announcements}}
                    <td> {{formatDate annouDate}}</td>
                    <td> {{annouTitle}}</td>
                    <td> {{annouDetails}}</td>
                    <td> {{returnStoreGroupId.courseCode}} {{returnStoreGroupId.grpNum}}</td>
                    <td>
                      {{#if isAuthor}}
                        <form name="deleteTrainerAnnou" role="form" method="post">
                          <input type="hidden" id="groupId" value="{{returnStoreGroupId._id}}">
                          <input type="hidden" id="annouDate" value="{{annouDate}}">
                          <input type="hidden" id="annouTitle" value="{{annouTitle}}">
                          <input type="hidden" id="annouDetails" value="{{annouDetails}}">
                          <input id="deleteTAnnounButton" type="submit" value="Delete"/>
                        </form>
                      {{/if}}
                    </td>
                  {{/each}}
                </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="postAnnounModel">
  if isAnnouncementPosted
    .alert.alert-success
      | Your Announcement has been posted
  else
    // do nothing
</template>

<template name="addAnnouncement">
  <form action="" method="post">
    <table style="width:100%" class="table table-striped" id="dataTables-example">
      <tr>
        <th style="width:25%">Announcement Title</th>
        <td><input type="text" name="announTitle" id="announTitle" style="width:100%"/></td>
      </tr>
      <tr>
          <th>Post To:</th>
          <td>
            <select name="groupId" id="groupId" style="margin-top: 5px; margin-bottom: 5px; padding: 5px;">
              {{#each trainerOngoingCourses1}}
                <option value="{{_id}}">{{courseCode}} {{grpNum}}</option>
              {{/each}}
            </select>
          </td>
      </tr>
      <tr>
        <th>Details:</th>
        <td><textarea id="announDetails" style="width:100%"></textarea></td>
      </tr>
      <tr>
        <td></td>
        <td>            
          <button class="button btn admin-btn" id="trainerPostAnnouncement">Post Announcement</button>
        </td>
      </tr>
    </table>
  </form>
</template>




<template name="editAnnouncement">
  <form action="" method="post">
    <table style="width:100%" class="table table-striped" id="dataTables-example">
      <tr>
        <th style="width:25%">Announcement Title</th>
        <td><input type="text" name="announTitle" id="announTitle" style="width:100%"/></td>
      </tr>
      <tr>
          <th>Post To:</th>
          <td>
            <select name="groupId" id="groupId" style="margin-top: 5px; margin-bottom: 5px; padding: 5px;">
              {{#each trainerOngoingCourses}}
                <option value="{{_id}}">{{courseCode}} {{grpNum}}</option>
              {{/each}}
            </select>
          </td>
      </tr>
      <tr>
        <th>Details:</th>
        <td><textarea id="announDetails" style="width:100%"></textarea></td>
      </tr>
      <tr>
        <td></td>
        <td>            
          <button class="button btn admin-btn" id="trainerPostAnnouncement">Post Announcement</button>
        </td>
      </tr>
    </table>
  </form>
</template>